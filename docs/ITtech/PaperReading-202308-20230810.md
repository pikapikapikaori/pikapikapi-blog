# 论文阅读 2023.08

> 本文首发于个人博客 \
> 发表日期：\
> 最后编辑于：{docsify-last-updated}

## One Dollar Each Eliminates Envy

> Brustle, J., Dippel, J., Narayan, V. V., Suzuki, M., & Vetta, A. (2020, July 13). One Dollar Each Eliminates Envy. Proceedings of the 21st ACM Conference on Economics and Computation. https://doi.org/10.1145/3391403.3399447

本文着眼于研究$m$个不可分割的商品在$n$个代理人间进行无嫉妒分配的问题。当然通常这是不可能的，但是可以通过引入一定数量的可分割商品来达到EF分配。本文证明给予每个代理人最多一美元（一个单位价值）的补贴就足以保证可无嫉妒的分配存在，且补贴总和最多为$n-1$单位价值。此时，这种分配同时也是EF1的，且这种分配是平衡的，换言之分配的束的数量最多差一。同时本文还证明，对于一般的单调估价函数，始终存在EF分配使得每个代理人最多获得$2(n-1)$单位价值的补贴，此时补贴总和为$O(n^2)$。注意这里的估价函数都为可加性函数。

*个人感觉结论直觉上还挺显然的，最大的价值可能在于证明了补贴可以足够小。*

### 基础概念：EF分配及其他

- EF分配（Envy-free item allocation）：考虑两个参与者A与B，其拥有的物品束分别为X和Y。EF分配指对任何参与者，其认为其持有的物品束的价值总和不小于另一个参与人的物品束价值总和。
- EF1分配：EF1分配指当从某一个参与人的物品束中移除最多一个物品后可以使得另一个参与人无嫉妒。
- EFx分配：EFx分配指当从某一个参与人的物品束中移除任意多个任意物品后可以使得另一个参与人无嫉妒。显然有EF分配强于EFx分配强于EF1分配：EF1分配要求移除最大价值的物品，而EFx分配只要求移除最小价值的物品。
- 部分EF分配：部分指明不是全部物品都需要被分配给参与者。
- 纳什社会福利（Nash social welfare）：当满足帕累托最优，社会福利函数不依赖于个体，匿名性与连续性的情况下，可以导出的特殊的社会福利函数即为纳什社会福利函数。注意这里社会福利函数可以被视为个人福利的总和，个人福利以效用水平表示。
- 可加性估值函数：表明对商品束而言，商品束的估价可以被视为商品束内全部商品估价的总和。

### 无嫉妒分配模型与已有结论

考虑参与者集合$I=\{1,2,\cdots,n\}$与不可分割商品构成的商品束$J=\{1,2,\cdots,m\}$。每个代理人$i\in I$都对商品束中的商品存在估值（估价）函数$v_i$使得商品束$S\subseteq J$对代理人$i$有价值$v_i(S)$。在本文中假设这一估值函数是单调可加的，换言之，如果$S\subseteq T$那么有$v_i(S)\leq v_i(T),v_i(\emptyset)=0$,同时对$S\subseteq J$与$j\in J,v_i(j)=v_i(\{j\})$有$v_i(S)=\sum_{j\in S}v_i(j)$。全部代理人的估值函数构成估值概要（valuation profile）$v=(v_1,\cdots
,v_n)$，同时为了便于计算对每个估值函数进行缩放使得任何物品$j$的最大边际价值为1（美元/单位价值）。

一个分配$\mathcal{A}=\{A_1,\cdots,A_n\}$是将商品集合划分为$n$个商品束的有序划分，第$i$个参与者获得商品束$A_i$（可以为空）。如果$\forall i\in I,\forall k\in I,v_i(A_i)\geq v_i(A_k)$那么称其为无嫉妒的。

另一方面，对于每一对参与人$i,k$，如果要么$A_k=\emptyset$，要么存在$j\in A_k$使得$v_i(A_i)\geq v_i(A_k\text{\textbackslash}\{j\})$，那么称此时的分配是EF1的。

由于EF分配并不总能达到，在本文考虑的模型中可以通过引入非负向量$p=(p_1,\cdots,p_n)$使得第$i$个参与者获得补贴$p_i\geq 0$。那么当$\forall i\in I,\forall k\in I,v_i(A_i)+p_i\geq v_i(A_k)+p_k$时称分配$(\mathcal{A},p)$为无嫉妒的。注意对于固定分配$A$而言并不总存在$p$使得$(\mathcal{A},p)$无嫉妒，因而能达到无嫉妒的分配$\mathcal{A}$被称为可无嫉妒的（envy-freeable）。

更形象的，对于分配$\mathcal{A}$，其嫉妒图$G_{\mathcal{A}}$是一个顶点集为$I$的完全有向图，其中任意一对节点$i,k\in I$的弧$arc(i,k)$的权重是分配$\mathcal{A}$下$i$对$k$的嫉妒，即$w_{\mathcal{A}}(i,k)=v_i(A_k)-v_i(A_i)$。当且仅当图中不存在正权有向环时分配才是可无嫉妒的，此时分配$\mathcal{A}$在商品束的所有分配中最大化了社会福利，即对$I=[n]$的全部排列$\pi$，有$\sum_{i\in I}v_i(A_i)\geq\sum_{i\in I}v_i(A_{\pi(i)})$（结论出自论文《Fair Division with Subsidy》）。

这一结论提供了计算最少补贴的方式：首先找到最大化社会福利的分配，并接着在其所对应的嫉妒图中计算从每个节点开始的最大权重路径。另一方面补贴只需要提供给最多$n-1$个人。由此可以得到以下推论：

**推论：**对于任意可无嫉妒的分配$\mathcal{A}$，所需要的最小补贴最大为$(n-1)\cdot l^{\max}_{G_{\mathcal{A}}}$，其中$l^{\max}_{G_{\mathcal{A}}}$是嫉妒图$G_{\mathcal{A}}$中有向路径的最大权重，并有$l^{\max}_{G_{\mathcal{A}}}\leq m$。

### 构建权重为1的最大路径的分配的算法

考虑顶点集$I,J$上的完全二分图$H$是估值图，其中边$(i,j)$的权重为$v_i(j)$。用$h[\hat{I},\hat{J}]$表示从$H$导出的子图。分配算法在每一轮中将一个项目匹配给参与者。一开始，令$J_1=J$。在第$t$轮。首先寻找$H[I,J_t]$中的最大匹配权重$M_t$（找权重最大的边），如果参与者$i$与商品$j=\mu^t_i$匹配，那么将该商品分配给盖参与者。接着在剩余的商品束$J_{t+1}=J_t\text{\textbackslash}\cup_{i\in I}\mu^t_i$中进行递归。

![picture](_media/PaperReading-202308-20230810/picture-1.png '分配算法')

本文接着证明了该分配是可无嫉妒的，并且是EF1的。同时，分配也是平衡的，换言之分配的束的数量最多差一，事实上每个参与者获得的商品束的大小为$\lceil\frac{m}{n}\rceil$或$\lfloor\frac{m}{n}\rfloor$。分配算法则在多项式时间内运行。

另一方面，本文还证明了任何可无嫉妒的且为EF1的分配都在嫉妒图中有最大权重路径，且该权重最大为$n-1$。本文接着证明了算法给出的分配事实上权重最大为1，因此所需的补贴最大为$n-1$。

## 参考资料

1. Brustle, J., Dippel, J., Narayan, V. V., Suzuki, M., & Vetta, A. (2020, July 13). One Dollar Each Eliminates Envy. Proceedings of the 21st ACM Conference on Economics and Computation. https://doi.org/10.1145/3391403.3399447
2. Kaneko, M., & Nakamura, K. (1979, March). The Nash Social Welfare Function. Econometrica, 47(2), 423. https://doi.org/10.2307/1914191
3. Halpern, D., & Shah, N. (2019). Fair Division with Subsidy. Algorithmic Game Theory, 374–389. https://doi.org/10.1007/978-3-030-30473-7_25
